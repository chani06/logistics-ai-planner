"""
‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢ (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏´‡∏•‡∏î app.py)
"""

import pandas as pd

# ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏ó‡∏î‡∏™‡∏≠‡∏ö
def get_region_type(province):
    """
    ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
    """
    if pd.isna(province):
        return 'unknown'
    
    prov = str(province).strip()
    
    # üö´ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û + ‡∏õ‡∏£‡∏¥‡∏°‡∏ì‡∏ë‡∏• + ‡∏†‡∏≤‡∏Ñ‡∏Å‡∏•‡∏≤‡∏á ‚Üí ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ 6W ‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î!
    nearby_provinces = [
        '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£', '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û',
        '‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°', '‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ', '‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ', '‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£', '‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£',
        '‡∏ä‡∏±‡∏¢‡∏ô‡∏≤‡∏ó', '‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤', '‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ', '‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ', '‡∏™‡∏¥‡∏á‡∏´‡πå‡∏ö‡∏∏‡∏£‡∏µ', '‡∏≠‡πà‡∏≤‡∏á‡∏ó‡∏≠‡∏á', '‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤',
        '‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°', '‡∏™‡∏∏‡∏û‡∏£‡∏£‡∏ì‡∏ö‡∏∏‡∏£‡∏µ', '‡∏ô‡∏Ñ‡∏£‡∏ô‡∏≤‡∏¢‡∏Å'
    ]
    
    for nearby in nearby_provinces:
        if nearby in prov:
            return 'nearby'
    
    # üöõ ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (18 ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î) ‚Üí ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏ä‡πâ 6W
    north_provinces = [
        '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà', '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢', '‡πÅ‡∏°‡πà‡∏Æ‡πà‡∏≠‡∏á‡∏™‡∏≠‡∏ô', '‡∏ô‡πà‡∏≤‡∏ô', '‡∏û‡∏∞‡πÄ‡∏¢‡∏≤', '‡∏•‡∏≥‡∏õ‡∏≤‡∏á', '‡∏•‡∏≥‡∏û‡∏π‡∏ô', '‡πÅ‡∏û‡∏£‡πà',
        '‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÄ‡∏û‡∏ä‡∏£', '‡∏ï‡∏≤‡∏Å', '‡∏ô‡∏Ñ‡∏£‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå', '‡∏û‡∏¥‡∏à‡∏¥‡∏ï‡∏£', '‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å', '‡∏™‡∏∏‡πÇ‡∏Ç‡∏ó‡∏±‡∏¢', 
        '‡∏≠‡∏∏‡∏ï‡∏£‡∏î‡∏¥‡∏ï‡∏ñ‡πå', '‡∏≠‡∏∏‡∏ó‡∏±‡∏¢‡∏ò‡∏≤‡∏ô‡∏µ', '‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏π‡∏£‡∏ì‡πå', '‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥'
    ]
    
    for north in north_provinces:
        if north in prov:
            return 'north'
    
    # üöõ ‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (14 ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î) ‚Üí ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏ä‡πâ 6W
    south_provinces = [
        '‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà', '‡∏ï‡∏£‡∏±‡∏á', '‡∏û‡∏±‡∏á‡∏á‡∏≤', '‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï', '‡∏£‡∏∞‡∏ô‡∏≠‡∏á', '‡∏™‡∏ï‡∏π‡∏•',
        '‡∏ä‡∏∏‡∏°‡∏û‡∏£', '‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä', '‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á', '‡∏¢‡∏∞‡∏•‡∏≤', '‡∏™‡∏á‡∏Ç‡∏•‡∏≤', 
        '‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ', '‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ', '‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™'
    ]
    
    for south in south_provinces:
        if south in prov:
            return 'south'
    
    return 'far'


def test_all():
    """‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"""
    
    print("\n" + "üöõ" * 40)
    print(" " * 25 + "‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏é‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ")
    print("üöõ" * 40 + "\n")
    
    # ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 1: ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏¥‡∏°‡∏ì‡∏ë‡∏•
    print("=" * 80)
    print("üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 1: ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û + ‡∏õ‡∏£‡∏¥‡∏°‡∏ì‡∏ë‡∏• (‡∏´‡πâ‡∏≤‡∏° 6W)")
    print("=" * 80)
    
    nearby_test = [
        '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£', '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û', '‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ', '‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ',
        '‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£', '‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£', '‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°', '‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°',
        '‡∏ô‡∏Ñ‡∏£‡∏ô‡∏≤‡∏¢‡∏Å', '‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤', '‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ', '‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ'
    ]
    
    nearby_pass = True
    for prov in nearby_test:
        result = get_region_type(prov)
        if result == 'nearby':
            print(f"‚úÖ {prov:25s} ‚Üí {result:10s} (‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á)")
        else:
            print(f"‚ùå {prov:25s} ‚Üí {result:10s} (‡∏ú‡∏¥‡∏î! ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô 'nearby')")
            nearby_pass = False
    
    if nearby_pass:
        print("\n‚úÖ ‡∏ú‡πà‡∏≤‡∏ô: ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û+‡∏õ‡∏£‡∏¥‡∏°‡∏ì‡∏ë‡∏• ‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏õ‡πá‡∏ô 'nearby' ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‚Üí ‡∏´‡πâ‡∏≤‡∏° 6W ‚úì")
    else:
        print("\n‚ùå ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô: ‡∏°‡∏µ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ú‡∏¥‡∏î")
    
    # ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 2: ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠
    print("\n" + "=" * 80)
    print("üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 2: ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö 6W)")
    print("=" * 80)
    
    north_test = [
        '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà', '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢', '‡πÅ‡∏°‡πà‡∏Æ‡πà‡∏≠‡∏á‡∏™‡∏≠‡∏ô', '‡∏ô‡πà‡∏≤‡∏ô', '‡∏û‡∏∞‡πÄ‡∏¢‡∏≤',
        '‡∏•‡∏≥‡∏õ‡∏≤‡∏á', '‡∏•‡∏≥‡∏û‡∏π‡∏ô', '‡πÅ‡∏û‡∏£‡πà', '‡∏ô‡∏Ñ‡∏£‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå', '‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å',
        '‡∏™‡∏∏‡πÇ‡∏Ç‡∏ó‡∏±‡∏¢', '‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏π‡∏£‡∏ì‡πå', '‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥'
    ]
    
    north_pass = True
    for prov in north_test:
        result = get_region_type(prov)
        if result == 'north':
            print(f"‚úÖ {prov:25s} ‚Üí {result:10s} (‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á)")
        else:
            print(f"‚ùå {prov:25s} ‚Üí {result:10s} (‡∏ú‡∏¥‡∏î! ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô 'north')")
            north_pass = False
    
    if north_pass:
        print("\n‚úÖ ‡∏ú‡πà‡∏≤‡∏ô: ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ ‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏õ‡πá‡∏ô 'north' ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‚Üí ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö 6W ‚úì")
    else:
        print("\n‚ùå ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô: ‡∏°‡∏µ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ú‡∏¥‡∏î")
    
    # ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 3: ‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ
    print("\n" + "=" * 80)
    print("üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 3: ‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö 6W)")
    print("=" * 80)
    
    south_test = [
        '‡∏™‡∏á‡∏Ç‡∏•‡∏≤', '‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ', '‡∏¢‡∏∞‡∏•‡∏≤', '‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™', '‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á',
        '‡∏ï‡∏£‡∏±‡∏á', '‡∏™‡∏ï‡∏π‡∏•', '‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï', '‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà', '‡∏û‡∏±‡∏á‡∏á‡∏≤',
        '‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä', '‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ', '‡∏ä‡∏∏‡∏°‡∏û‡∏£'
    ]
    
    south_pass = True
    for prov in south_test:
        result = get_region_type(prov)
        if result == 'south':
            print(f"‚úÖ {prov:25s} ‚Üí {result:10s} (‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á)")
        else:
            print(f"‚ùå {prov:25s} ‚Üí {result:10s} (‡∏ú‡∏¥‡∏î! ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô 'south')")
            south_pass = False
    
    if south_pass:
        print("\n‚úÖ ‡∏ú‡πà‡∏≤‡∏ô: ‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ ‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏õ‡πá‡∏ô 'south' ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‚Üí ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö 6W ‚úì")
    else:
        print("\n‚ùå ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô: ‡∏°‡∏µ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ú‡∏¥‡∏î")
    
    # ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 4: ‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏≠‡∏∑‡πà‡∏ô
    print("\n" + "=" * 80)
    print("üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 4: ‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏≠‡∏∑‡πà‡∏ô (‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô)")
    print("=" * 80)
    
    far_test = [
        '‡∏â‡∏∞‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏£‡∏≤', '‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ', '‡∏£‡∏∞‡∏¢‡∏≠‡∏á', '‡∏õ‡∏£‡∏≤‡∏à‡∏µ‡∏ô‡∏ö‡∏∏‡∏£‡∏µ', '‡∏à‡∏±‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ',
        '‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤', '‡πÇ‡∏Ñ‡∏£‡∏≤‡∏ä', '‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô', '‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ', '‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ',
        '‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ', '‡∏£‡∏≤‡∏ä‡∏ö‡∏∏‡∏£‡∏µ', '‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ', '‡∏õ‡∏£‡∏∞‡∏à‡∏ß‡∏ö‡∏Ñ‡∏µ‡∏£‡∏µ‡∏Ç‡∏±‡∏ô‡∏ò‡πå'
    ]
    
    far_pass = True
    for prov in far_test:
        result = get_region_type(prov)
        if result == 'far':
            print(f"‚úÖ {prov:25s} ‚Üí {result:10s} (‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á)")
        else:
            print(f"‚ùå {prov:25s} ‚Üí {result:10s} (‡∏ú‡∏¥‡∏î! ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô 'far')")
            far_pass = False
    
    if far_pass:
        print("\n‚úÖ ‡∏ú‡πà‡∏≤‡∏ô: ‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏≠‡∏∑‡πà‡∏ô ‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏õ‡πá‡∏ô 'far' ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‚Üí ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏ï‡∏≤‡∏° util ‚úì")
    else:
        print("\n‚ùå ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô: ‡∏°‡∏µ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ú‡∏¥‡∏î")
    
    # ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 5: ‡∏Å‡∏£‡∏ì‡∏µ‡∏Ç‡πâ‡∏≤‡∏°‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ
    print("\n" + "=" * 80)
    print("üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö 5: ‡∏Å‡∏£‡∏ì‡∏µ‡∏Ç‡πâ‡∏≤‡∏°‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ (Edge Cases)")
    print("=" * 80)
    
    edge_cases = [
        {
            'name': '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û + ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà',
            'provinces': ['‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£', '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà'],
            'expected': '‡∏°‡∏µ north ‚Üí ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö 6W'
        },
        {
            'name': '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û + ‡∏™‡∏á‡∏Ç‡∏•‡∏≤',
            'provinces': ['‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£', '‡∏™‡∏á‡∏Ç‡∏•‡∏≤'],
            'expected': '‡∏°‡∏µ south ‚Üí ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö 6W'
        },
        {
            'name': '‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û',
            'provinces': ['‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£'],
            'expected': 'nearby ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí ‡∏´‡πâ‡∏≤‡∏° 6W (‡πÉ‡∏ä‡πâ 4W/JB)'
        },
        {
            'name': '‡∏õ‡∏£‡∏¥‡∏°‡∏ì‡∏ë‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',
            'provinces': ['‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ', '‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ', '‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£'],
            'expected': 'nearby ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí ‡∏´‡πâ‡∏≤‡∏° 6W (‡πÉ‡∏ä‡πâ 4W/JB)'
        },
        {
            'name': '‡∏†‡∏≤‡∏Ñ‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å',
            'provinces': ['‡∏â‡∏∞‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏£‡∏≤', '‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ', '‡∏£‡∏∞‡∏¢‡∏≠‡∏á'],
            'expected': 'far ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô'
        }
    ]
    
    edge_pass = True
    for case in edge_cases:
        print(f"\nüìç {case['name']}:")
        print(f"   ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î: {', '.join(case['provinces'])}")
        
        regions = [get_region_type(p) for p in case['provinces']]
        has_north = any(r == 'north' for r in regions)
        has_south = any(r == 'south' for r in regions)
        all_nearby = all(r == 'nearby' for r in regions)
        all_far = all(r == 'far' for r in regions)
        
        print(f"   ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: {', '.join(set(regions))}")
        
        if has_north or has_south:
            vehicle = '6W (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)'
            correct = '‡∏°‡∏µ north' in case['expected'] or '‡∏°‡∏µ south' in case['expected']
        elif all_nearby:
            vehicle = '4W/JB (‡∏´‡πâ‡∏≤‡∏° 6W)'
            correct = 'nearby ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' in case['expected']
        elif all_far:
            vehicle = '‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô (4W/JB/6W)'
            correct = 'far ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' in case['expected']
        else:
            vehicle = '‡∏ú‡∏™‡∏°'
            correct = False
        
        if correct:
            print(f"   ‚úÖ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: {vehicle}")
            print(f"   ‚úÖ {case['expected']}")
        else:
            print(f"   ‚ùå ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: {vehicle}")
            print(f"   ‚ùå ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: {case['expected']}")
            edge_pass = False
    
    if edge_pass:
        print("\n‚úÖ ‡∏ú‡πà‡∏≤‡∏ô: ‡∏Å‡∏£‡∏ì‡∏µ‡∏Ç‡πâ‡∏≤‡∏°‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á")
    else:
        print("\n‚ùå ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô: ‡∏°‡∏µ‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á")
    
    # ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•
    print("\n" + "=" * 80)
    print("üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö")
    print("=" * 80)
    
    results = [
        ("‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û+‡∏õ‡∏£‡∏¥‡∏°‡∏ì‡∏ë‡∏• (nearby)", nearby_pass),
        ("‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ (north)", north_pass),
        ("‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ (south)", south_pass),
        ("‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏≠‡∏∑‡πà‡∏ô (far)", far_pass),
        ("‡∏Å‡∏£‡∏ì‡∏µ‡∏Ç‡πâ‡∏≤‡∏°‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ", edge_pass)
    ]
    
    for name, passed in results:
        status = "‚úÖ ‡∏ú‡πà‡∏≤‡∏ô" if passed else "‚ùå ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô"
        print(f"{status:12s} - {name}")
    
    all_passed = all(r[1] for r in results)
    
    print("=" * 80)
    if all_passed:
        print("\nüéâ ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î!")
        print("\nüìã ‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ:")
        print("   üö´ ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û+‡∏õ‡∏£‡∏¥‡∏°‡∏ì‡∏ë‡∏•+‡∏†‡∏≤‡∏Ñ‡∏Å‡∏•‡∏≤‡∏á ‚Üí ‡∏´‡πâ‡∏≤‡∏° 6W (‡πÉ‡∏ä‡πâ 4W/JB ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)")
        print("   üöõ ‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (18 ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î) ‚Üí ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö 6W")
        print("   üöõ ‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (14 ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î) ‚Üí ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö 6W")
        print("   ‚ú® ‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ‡∏≠‡∏∑‡πà‡∏ô ‚Üí ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏ï‡∏≤‡∏° utilization (95-130%)")
        print("\n‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î!")
    else:
        print("\n‚ö†Ô∏è ‡∏°‡∏µ‡∏ö‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î")
    print("=" * 80 + "\n")
    
    return 0 if all_passed else 1


if __name__ == "__main__":
    import sys
    sys.exit(test_all())
