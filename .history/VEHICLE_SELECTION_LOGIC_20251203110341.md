# üöõ ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏£‡∏¥‡∏õ‡πÅ‡∏•‡πâ‡∏ß

## üìã ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ

### 1Ô∏è‚É£ **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏à‡∏≤‡∏Å DC (Priority #1)**
```python
def get_required_vehicle_by_distance(branch_code):
    """
    ‡∏ñ‡πâ‡∏≤‡∏™‡∏≤‡∏Ç‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å DC > 100 km ‚Üí ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏ä‡πâ 6W
    """
    distance = calculate_distance_from_dc(lat, lon)
    if distance > 100:  # DISTANCE_REQUIRE_6W
        return '6W', distance
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
- ‡∏™‡∏≤‡∏Ç‡∏≤ A ‡∏≠‡∏¢‡∏π‡πà‡∏´‡πà‡∏≤‡∏á 120 km ‚Üí ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ 6W
- ‡∏ó‡∏£‡∏¥‡∏õ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏≤‡∏Ç‡∏≤ A ‚Üí ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏ä‡πâ 6W ‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏£‡∏¥‡∏õ

---

### 2Ô∏è‚É£ **‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏•‡∏∞‡∏•‡∏π‡∏Å‡∏ö‡∏≤‡∏®‡∏Å‡πå‡∏£‡∏ß‡∏°**
```python
total_weight = sum(branch['Weight'])  # ‡∏£‡∏ß‡∏°‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ó‡∏∏‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤‡πÉ‡∏ô‡∏ó‡∏£‡∏¥‡∏õ
total_cube = sum(branch['Cube'])      # ‡∏£‡∏ß‡∏°‡∏•‡∏π‡∏Å‡∏ö‡∏≤‡∏®‡∏Å‡πå‡∏ó‡∏∏‡∏Å‡∏™‡∏≤‡∏Ç‡∏≤‡πÉ‡∏ô‡∏ó‡∏£‡∏¥‡∏õ
```

**‡∏Ç‡∏µ‡∏î‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏£‡∏ñ + Buffer 5%:**
| ‡∏£‡∏ñ | ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (kg) | ‡∏•‡∏π‡∏Å‡∏ö‡∏≤‡∏®‡∏Å‡πå (m¬≥) | ‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤ 105% |
|----|--------------|---------------|--------------|
| 4W | 2,500 | 5.0 | 2,625 kg / 5.25 m¬≥ |
| JB | 3,500 | 8.0 | 3,675 kg / 8.40 m¬≥ |
| 6W | 5,800 | 22.0 | 6,090 kg / 23.1 m¬≥ |

---

### 3Ô∏è‚É£ **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (suggest_truck)**

#### üéØ **‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡πÉ‡∏Å‡∏•‡πâ 100% ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (90-105%)**

```python
def suggest_truck(total_weight, total_cube, max_allowed='6W', trip_codes=None):
    # ‡∏•‡∏π‡∏õ‡∏ú‡πà‡∏≤‡∏ô‡∏£‡∏ñ‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó: 4W ‚Üí JB ‚Üí 6W
    for truck in ['4W', 'JB', '6W']:
        # 1. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÉ‡∏™‡πà‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏° (‚â§105%)
        if can_fit_truck(total_weight, total_cube, truck):
            # 2. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì % ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏ñ
            w_util = (total_weight / max_weight) * 100
            c_util = (total_cube / max_cube) * 100
            utilization = max(w_util, c_util)  # ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
            
            # 3. ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å 100%
            distance_from_100 = abs(100 - utilization)
            
            # 4. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ 100% ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
```

#### üìä **‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å:**

**Priority 1: ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á 90-105%**
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ 100% ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 95% > 85% > 70%

**Priority 2: ‡∏ô‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á 90-105%**
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 80% > 60% > 40%

---

## üìà ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ

### **‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 1: ‡∏ó‡∏£‡∏¥‡∏õ‡∏°‡∏µ 7 ‡∏™‡∏≤‡∏Ç‡∏≤**
```
‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å: 2,400 kg
‡∏•‡∏π‡∏Å‡∏ö‡∏≤‡∏®‡∏Å‡πå: 4.8 m¬≥
```

**‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì:**
- **4W**: 2400/2500 = 96% (‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å), 4.8/5.0 = 96% (‡∏Ñ‡∏¥‡∏ß) ‚Üí **96%** ‚úÖ
- **JB**: 2400/3500 = 69% (‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å), 4.8/8.0 = 60% (‡∏Ñ‡∏¥‡∏ß) ‚Üí **69%**
- **6W**: 2400/5800 = 41% (‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å), 4.8/22 = 22% (‡∏Ñ‡∏¥‡∏ß) ‚Üí **41%**

**‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: 4W** (96% - ‡πÉ‡∏Å‡∏•‡πâ 100% ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!)

---

### **‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏ó‡∏£‡∏¥‡∏õ‡∏°‡∏µ 10 ‡∏™‡∏≤‡∏Ç‡∏≤**
```
‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å: 3,200 kg
‡∏•‡∏π‡∏Å‡∏ö‡∏≤‡∏®‡∏Å‡πå: 7.5 m¬≥
```

**‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì:**
- **4W**: 3200/2500 = 128% ‚ùå ‡πÄ‡∏Å‡∏¥‡∏ô! (‡πÉ‡∏™‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)
- **JB**: 3200/3500 = 91% (‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å), 7.5/8.0 = 94% (‡∏Ñ‡∏¥‡∏ß) ‚Üí **94%** ‚úÖ
- **6W**: 3200/5800 = 55% (‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å), 7.5/22 = 34% (‡∏Ñ‡∏¥‡∏ß) ‚Üí **55%**

**‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: JB** (94% - ‡πÉ‡∏Å‡∏•‡πâ 100% ‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á 90-105%)

---

### **‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà 3: ‡∏ó‡∏£‡∏¥‡∏õ‡∏°‡∏µ 12 ‡∏™‡∏≤‡∏Ç‡∏≤ + ‡∏°‡∏µ‡∏™‡∏≤‡∏Ç‡∏≤‡πÑ‡∏Å‡∏•**
```
‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å: 4,500 kg
‡∏•‡∏π‡∏Å‡∏ö‡∏≤‡∏®‡∏Å‡πå: 15.0 m¬≥
‡∏™‡∏≤‡∏Ç‡∏≤ A ‡∏≠‡∏¢‡∏π‡πà‡∏´‡πà‡∏≤‡∏á 120 km ‡∏à‡∏≤‡∏Å DC
```

**‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:**
1. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á ‚Üí ‡∏™‡∏≤‡∏Ç‡∏≤ A > 100 km ‚Üí **‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö 6W** ‚ö†Ô∏è
2. ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì utilization
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **6W** ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

**‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: 6W** (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏£‡∏∞‡∏¢‡∏∞‡πÑ‡∏Å‡∏•)

---

## üîÑ ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡∏£‡∏ñ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

### **‡∏ñ‡πâ‡∏≤‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô 105%** ‚Üí ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡∏ó‡∏±‡∏ô‡∏ó‡∏µ

```python
# ‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ‡πÅ‡∏•‡πâ‡∏ß
if suggested in LIMITS:
    w_util = (total_w / LIMITS[suggested]['max_w']) * 100
    c_util = (total_c / LIMITS[suggested]['max_c']) * 100
    max_util = max(w_util, c_util)
    
    if max_util > 105:
        # ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î!
        if suggested == '4W':
            # ‡∏•‡∏≠‡∏á JB
            if JB ‡πÉ‡∏™‡πà‡πÑ‡∏î‡πâ ‚â§105%:
                suggested = 'JB'
            else:
                suggested = '6W'
        elif suggested == 'JB':
            suggested = '6W'
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
- ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ö‡∏≠‡∏Å‡πÉ‡∏ä‡πâ 4W
- ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å 2,700 kg (108%)
- ‚Üí ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏õ‡πá‡∏ô **JB** (77%)
- ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô UI: `4W üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ ‚Üí JB`

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

### **‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**
```
1. ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á > 100 km ‚Üí 6W (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)
   ‚Üì
2. ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏ñ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) ‚Üí ‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥
   ‚Üì
3. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÉ‡∏™‡πà‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏° ‚Üí ‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô 105% ‚Üí ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î
   ‚Üì
4. AI suggest ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏ñ‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ 100% ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (90-105%)
```

### **‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:**
- ‚úÖ **90-105% utilization** (‡πÉ‡∏Å‡∏•‡πâ 100% ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)
- ‚úÖ ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 105% (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏µ‡πÅ‡∏î‡∏á)
- ‚úÖ ‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡πÄ‡∏•‡πá‡∏Å‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î)
- ‚úÖ ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡πÑ‡∏î‡πâ 13 ‡∏™‡∏≤‡∏Ç‡∏≤

---

## üéØ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡∏¥‡∏°

| ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ | ‡πÄ‡∏î‡∏¥‡∏° | ‡πÉ‡∏´‡∏°‡πà |
|--------|------|------|
| ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ | ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î | **‡πÉ‡∏Å‡∏•‡πâ 100% ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î** |
| ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ | - | **90-105%** |
| ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏≤‡∏Ç‡∏≤ | 12 | **13** (‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô) |
| ‡∏≠‡∏±‡∏û‡πÄ‡∏Å‡∏£‡∏î | ‡πÑ‡∏°‡πà‡∏°‡∏µ | **‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥** ‡∏ñ‡πâ‡∏≤ >105% |
| ‡∏Å‡∏≤‡∏£‡∏£‡∏ß‡∏°‡∏ó‡∏£‡∏¥‡∏õ | <40% | **<50% + 60-105%** |

---

## ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ

1. **‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô** - ‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡πÄ‡∏•‡πá‡∏Å‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
2. **‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏ï‡∏Å** - ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 105% ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô
3. **‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏π‡∏á** - ‡πÉ‡∏Å‡∏•‡πâ 100% ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
4. **‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô** - ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö 13 ‡∏™‡∏≤‡∏Ç‡∏≤
5. **‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢** - ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö 6W ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏≤‡∏Ç‡∏≤‡πÑ‡∏Å‡∏• >100km
